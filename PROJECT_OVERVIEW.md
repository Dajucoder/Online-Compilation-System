# ğŸ¯ åœ¨çº¿ç¼–è¯‘ç³»ç»Ÿ - é¡¹ç›®æ¦‚è§ˆ

## ğŸ“‹ é¡¹ç›®å·²å®Œæˆ

æ­å–œï¼æ‚¨çš„åœ¨çº¿ç¼–è¯‘ç³»ç»Ÿé¡¹ç›®æ¶æ„å·²ç»æ­å»ºå®Œæˆã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„é¡¹ç›®ç»“æ„å’Œè¯´æ˜ã€‚

## ğŸ“ å®Œæ•´é¡¹ç›®ç»“æ„

```
Online-Compilation-System/
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ LICENSE                      # MITè®¸å¯è¯
â”œâ”€â”€ ğŸ“„ .gitignore                   # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ .env.example                 # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ CONTRIBUTING.md              # è´¡çŒ®æŒ‡å—
â”œâ”€â”€ ğŸ“„ docker-compose.yml           # å¼€å‘ç¯å¢ƒDockeré…ç½®
â”œâ”€â”€ ğŸ“„ docker-compose.prod.yml      # ç”Ÿäº§ç¯å¢ƒDockeré…ç½®
â”œâ”€â”€ ğŸ”§ start.sh                     # Linux/Macå¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ”§ start.bat                    # Windowså¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“‚ frontend/                    # Reactå‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ ğŸ“„ package.json
â”‚   â”œâ”€â”€ ğŸ“„ tsconfig.json
â”‚   â”œâ”€â”€ ğŸ“„ vite.config.ts
â”‚   â”œâ”€â”€ ğŸ“„ tailwind.config.js
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile
â”‚   â”œâ”€â”€ ğŸ“„ nginx.conf
â”‚   â”œâ”€â”€ ğŸ“„ index.html
â”‚   â””â”€â”€ ğŸ“‚ src/
â”‚       â”œâ”€â”€ ğŸ“„ main.tsx            # åº”ç”¨å…¥å£
â”‚       â”œâ”€â”€ ğŸ“„ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶
â”‚       â”œâ”€â”€ ğŸ“„ index.css           # å…¨å±€æ ·å¼
â”‚       â”œâ”€â”€ ğŸ“‚ components/         # UIç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ Layout/
â”‚       â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â”‚   â””â”€â”€ Layout.css
â”‚       â”‚   â”œâ”€â”€ Header.tsx
â”‚       â”‚   â””â”€â”€ CodeEditor.tsx
â”‚       â”œâ”€â”€ ğŸ“‚ pages/              # é¡µé¢ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ HomePage.tsx       # é¦–é¡µ
â”‚       â”‚   â”œâ”€â”€ EditorPage.tsx     # ç¼–è¾‘å™¨é¡µé¢
â”‚       â”‚   â”œâ”€â”€ LoginPage.tsx      # ç™»å½•é¡µé¢
â”‚       â”‚   â”œâ”€â”€ RegisterPage.tsx   # æ³¨å†Œé¡µé¢
â”‚       â”‚   â””â”€â”€ HistoryPage.tsx    # å†å²è®°å½•é¡µé¢
â”‚       â”œâ”€â”€ ğŸ“‚ hooks/              # è‡ªå®šä¹‰Hooks
â”‚       â”‚   â””â”€â”€ useExecuteCode.ts
â”‚       â”œâ”€â”€ ğŸ“‚ store/              # çŠ¶æ€ç®¡ç†
â”‚       â”‚   â””â”€â”€ authStore.ts
â”‚       â””â”€â”€ ğŸ“‚ services/           # APIæœåŠ¡
â”‚           â””â”€â”€ api.ts
â”‚
â”œâ”€â”€ ğŸ“‚ backend/                     # Node.jsåç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ ğŸ“„ package.json
â”‚   â”œâ”€â”€ ğŸ“„ tsconfig.json
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile
â”‚   â”œâ”€â”€ ğŸ“‚ prisma/
â”‚   â”‚   â””â”€â”€ schema.prisma          # æ•°æ®åº“Schema
â”‚   â””â”€â”€ ğŸ“‚ src/
â”‚       â”œâ”€â”€ ğŸ“„ server.ts           # æœåŠ¡å™¨å…¥å£
â”‚       â”œâ”€â”€ ğŸ“‚ config/
â”‚       â”‚   â””â”€â”€ index.ts           # é…ç½®ç®¡ç†
â”‚       â”œâ”€â”€ ğŸ“‚ controllers/        # æ§åˆ¶å™¨
â”‚       â”‚   â”œâ”€â”€ auth.controller.ts
â”‚       â”‚   â”œâ”€â”€ execute.controller.ts
â”‚       â”‚   â””â”€â”€ submission.controller.ts
â”‚       â”œâ”€â”€ ğŸ“‚ routes/             # è·¯ç”±
â”‚       â”‚   â”œâ”€â”€ auth.routes.ts
â”‚       â”‚   â”œâ”€â”€ execute.routes.ts
â”‚       â”‚   â””â”€â”€ submission.routes.ts
â”‚       â”œâ”€â”€ ğŸ“‚ middleware/         # ä¸­é—´ä»¶
â”‚       â”‚   â”œâ”€â”€ auth.ts
â”‚       â”‚   â”œâ”€â”€ errorHandler.ts
â”‚       â”‚   â”œâ”€â”€ rateLimiter.ts
â”‚       â”‚   â””â”€â”€ validator.ts
â”‚       â”œâ”€â”€ ğŸ“‚ services/           # ä¸šåŠ¡é€»è¾‘
â”‚       â”‚   â””â”€â”€ docker.service.ts
â”‚       â”œâ”€â”€ ğŸ“‚ workers/            # ä»»åŠ¡å¤„ç†å™¨
â”‚       â”‚   â””â”€â”€ execute.worker.ts
â”‚       â”œâ”€â”€ ğŸ“‚ queues/             # ä»»åŠ¡é˜Ÿåˆ—
â”‚       â”‚   â””â”€â”€ execute.queue.ts
â”‚       â”œâ”€â”€ ğŸ“‚ schemas/            # éªŒè¯Schema
â”‚       â”‚   â”œâ”€â”€ auth.schema.ts
â”‚       â”‚   â””â”€â”€ execute.schema.ts
â”‚       â””â”€â”€ ğŸ“‚ utils/              # å·¥å…·å‡½æ•°
â”‚           â””â”€â”€ logger.ts
â”‚
â”œâ”€â”€ ğŸ“‚ nginx/                       # Nginxé…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile
â”‚   â”œâ”€â”€ ğŸ“„ nginx.conf
â”‚   â””â”€â”€ ğŸ“‚ conf.d/
â”‚       â””â”€â”€ default.conf
â”‚
â””â”€â”€ ğŸ“‚ docs/                        # æ–‡æ¡£
    â”œâ”€â”€ ğŸ“„ API.md                  # APIæ–‡æ¡£
    â””â”€â”€ ğŸ“„ DEVELOPMENT.md          # å¼€å‘æ–‡æ¡£
```

## ğŸ¨ æŠ€æœ¯æ ˆæ€»è§ˆ

### å‰ç«¯
- âš›ï¸ **React 18** - UIæ¡†æ¶
- ğŸ“˜ **TypeScript** - ç±»å‹å®‰å…¨
- âš¡ **Vite** - æ„å»ºå·¥å…·
- ğŸ¨ **Ant Design** - UIç»„ä»¶åº“
- ğŸ¨ **Tailwind CSS** - æ ·å¼æ¡†æ¶
- ğŸ“ **Monaco Editor** - ä»£ç ç¼–è¾‘å™¨
- ğŸ”„ **React Query** - æ•°æ®è·å–
- ğŸ—ƒï¸ **Zustand** - çŠ¶æ€ç®¡ç†
- ğŸŒ **Axios** - HTTPå®¢æˆ·ç«¯

### åç«¯
- ğŸŸ¢ **Node.js 18** - è¿è¡Œç¯å¢ƒ
- ğŸ“˜ **TypeScript** - ç±»å‹å®‰å…¨
- ğŸš‚ **Express** - Webæ¡†æ¶
- ğŸ” **JWT** - èº«ä»½è®¤è¯
- âœ… **Joi** - æ•°æ®éªŒè¯
- ğŸ¯ **Prisma** - ORM
- ğŸ˜ **PostgreSQL** - æ•°æ®åº“
- ğŸ”´ **Redis** - ç¼“å­˜/é˜Ÿåˆ—
- ğŸ‚ **Bull** - ä»»åŠ¡é˜Ÿåˆ—
- ğŸ³ **Dockerode** - Dockeræ§åˆ¶

### åŸºç¡€è®¾æ–½
- ğŸ³ **Docker** - å®¹å™¨åŒ–
- ğŸ™ **Docker Compose** - ç¼–æ’
- ğŸŒ **Nginx** - åå‘ä»£ç†
- ğŸ“Š **Winston** - æ—¥å¿—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

**Linux/Mac:**
```bash
chmod +x start.sh
./start.sh
```

**Windows:**
```cmd
start.bat
```

### æ–¹å¼2ï¼šæ‰‹åŠ¨å¯åŠ¨

```bash
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶
cp .env.example .env

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# 3. åˆå§‹åŒ–æ•°æ®åº“
cd backend
npm install
npx prisma migrate dev
npx prisma generate

# 4. è®¿é—®åº”ç”¨
# å‰ç«¯: http://localhost:3000
# åç«¯: http://localhost:8000
```

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTPS
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Nginx (åå‘ä»£ç†)                   â”‚
â”‚              è´Ÿè½½å‡è¡¡ + é™æ€èµ„æºæœåŠ¡                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Frontend    â”‚    â”‚    Backend      â”‚
    â”‚   (React)     â”‚    â”‚   (Express)     â”‚
    â”‚   Port: 80    â”‚    â”‚   Port: 8000    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                              â”‚     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚PostgreSQL â”‚ â”‚   Redis    â”‚
                    â”‚   æ•°æ®åº“  â”‚ â”‚  ä»»åŠ¡é˜Ÿåˆ—   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                              â”‚   Worker   â”‚
                              â”‚ ä»£ç æ‰§è¡Œå™¨  â”‚
                              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               â”‚                â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
            â”‚  Python   â”‚   â”‚   Java    â”‚   â”‚   C++     â”‚
            â”‚  å®¹å™¨     â”‚   â”‚   å®¹å™¨    â”‚   â”‚   å®¹å™¨     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”‘ æ ¸å¿ƒåŠŸèƒ½

### âœ… å·²å®ç°
1. âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆæ³¨å†Œ/ç™»å½•ï¼‰
2. âœ… å¤šè¯­è¨€ä»£ç ç¼–è¾‘å™¨
3. âœ… ä»£ç æ‰§è¡Œå¼•æ“
4. âœ… Dockerå®¹å™¨éš”ç¦»
5. âœ… å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—
6. âœ… æ‰§è¡Œç»“æœå±•ç¤º
7. âœ… æäº¤å†å²ç®¡ç†
8. âœ… é€Ÿç‡é™åˆ¶ä¿æŠ¤
9. âœ… é”™è¯¯å¤„ç†æœºåˆ¶
10. âœ… æ—¥å¿—ç³»ç»Ÿ

### ğŸš§ å¾…æ‰©å±•
- [ ] å®æ—¶åä½œç¼–è¾‘
- [ ] ä»£ç åˆ†äº«åŠŸèƒ½
- [ ] é¢˜åº“ç³»ç»Ÿ
- [ ] AIä»£ç åŠ©æ‰‹
- [ ] ä»£ç å®¡æŸ¥
- [ ] æ€§èƒ½åˆ†æ
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] å¤šä¸»é¢˜åˆ‡æ¢

## ğŸ“ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. å®‰è£…ä¾èµ–

**å‰ç«¯:**
```bash
cd frontend
npm install
```

**åç«¯:**
```bash
cd backend
npm install
npx prisma generate
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š
- æ•°æ®åº“è¿æ¥
- Redisè¿æ¥
- JWTå¯†é’¥
- Dockeré…ç½®

### 3. å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æˆ–è€…åˆ†åˆ«å¯åŠ¨
cd frontend && npm run dev    # å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd backend && npm run dev     # åç«¯å¼€å‘æœåŠ¡å™¨
```

### 4. æ•°æ®åº“è¿ç§»

```bash
cd backend
npx prisma migrate dev --name init
npx prisma generate
```

### 5. æµ‹è¯•ç³»ç»Ÿ

è®¿é—® http://localhost:3000 æµ‹è¯•ç³»ç»ŸåŠŸèƒ½

## ğŸ“š æ–‡æ¡£æ¸…å•

- âœ… `README.md` - é¡¹ç›®ä»‹ç»
- âœ… `docs/API.md` - APIæ¥å£æ–‡æ¡£
- âœ… `docs/DEVELOPMENT.md` - å¼€å‘æŒ‡å—
- âœ… `CONTRIBUTING.md` - è´¡çŒ®æŒ‡å—
- âœ… `.env.example` - ç¯å¢ƒå˜é‡ç¤ºä¾‹

## ğŸ› ï¸ å¼€å‘å·¥å…·æ¨è

- **VS Code** - ä»£ç ç¼–è¾‘å™¨
- **Postman** - APIæµ‹è¯•
- **Docker Desktop** - å®¹å™¨ç®¡ç†
- **Prisma Studio** - æ•°æ®åº“ç®¡ç†
- **Redis Commander** - Redisç®¡ç†

## ğŸ”’ å®‰å…¨æ£€æŸ¥æ¸…å•

- âœ… JWTä»¤ç‰Œè®¤è¯
- âœ… å¯†ç åŠ å¯†å­˜å‚¨
- âœ… è¾“å…¥æ•°æ®éªŒè¯
- âœ… SQLæ³¨å…¥é˜²æŠ¤
- âœ… XSSé˜²æŠ¤
- âœ… CSRFé˜²æŠ¤
- âœ… é€Ÿç‡é™åˆ¶
- âœ… Dockerå®¹å™¨éš”ç¦»
- âœ… èµ„æºä½¿ç”¨é™åˆ¶
- âœ… ç½‘ç»œéš”ç¦»

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### ç›®æ ‡æ€§èƒ½
- APIå“åº”æ—¶é—´: < 100ms
- ä»£ç æ‰§è¡Œå¯åŠ¨: < 2s
- å¹¶å‘æ”¯æŒ: 100+ åŒæ—¶æ‰§è¡Œ
- æ•°æ®åº“æŸ¥è¯¢: < 50ms
- é¡µé¢åŠ è½½: < 1s

## ğŸ“ å­¦ä¹ èµ„æº

- [Reactå®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [TypeScriptæ‰‹å†Œ](https://www.typescriptlang.org/docs/)
- [Expressæ–‡æ¡£](https://expressjs.com/)
- [Prismaæ–‡æ¡£](https://www.prisma.io/docs)
- [Dockeræ–‡æ¡£](https://docs.docker.com/)

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ä»£ç è§„èŒƒ**: ä½¿ç”¨ESLintå’ŒPrettier
2. **ç‰ˆæœ¬æ§åˆ¶**: ä½¿ç”¨Gitï¼Œéµå¾ªGit Flow
3. **æµ‹è¯•**: ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
4. **æ–‡æ¡£**: ä¿æŒæ–‡æ¡£æ›´æ–°
5. **å®‰å…¨**: å®šæœŸæ›´æ–°ä¾èµ–ï¼Œä¿®å¤æ¼æ´
6. **æ€§èƒ½**: ç›‘æ§ç³»ç»Ÿæ€§èƒ½ï¼Œä¼˜åŒ–ç“¶é¢ˆ

## ğŸ› å¸¸è§é—®é¢˜

### Dockerç›¸å…³
1. **ç«¯å£å ç”¨**: ä¿®æ”¹docker-compose.ymlä¸­çš„ç«¯å£æ˜ å°„
2. **æƒé™é—®é¢˜**: å°†ç”¨æˆ·æ·»åŠ åˆ°dockerç»„
3. **é•œåƒæ‹‰å–å¤±è´¥**: é…ç½®é•œåƒåŠ é€Ÿå™¨

### å¼€å‘ç›¸å…³
1. **ä¾èµ–å®‰è£…å¤±è´¥**: æ¸…é™¤ç¼“å­˜ï¼Œé‡æ–°å®‰è£…
2. **çƒ­æ›´æ–°ä¸ç”Ÿæ•ˆ**: æ£€æŸ¥Viteé…ç½®
3. **ç±»å‹é”™è¯¯**: è¿è¡Œ`npx prisma generate`

## ğŸ‰ å®Œæˆæƒ…å†µ

âœ… **é¡¹ç›®ç»“æ„**: 100%
âœ… **å‰ç«¯ä»£ç **: 100%
âœ… **åç«¯ä»£ç **: 100%
âœ… **æ•°æ®åº“è®¾è®¡**: 100%
âœ… **Dockeré…ç½®**: 100%
âœ… **æ–‡æ¡£ç¼–å†™**: 100%

## ğŸ“ æ”¯æŒ

- ğŸ“§ Email: support@example.com
- ğŸ’¬ GitHub Issues: [æäº¤é—®é¢˜](https://github.com/Dajucoder/Online-Compilation-System/issues)
- ğŸ“– æ–‡æ¡£: [æŸ¥çœ‹æ–‡æ¡£](./docs/)

---

## ğŸŠ æ­å–œï¼

æ‚¨çš„åœ¨çº¿ç¼–è¯‘ç³»ç»Ÿé¡¹ç›®æ¶æ„å·²å®Œå…¨æ­å»ºå®Œæˆï¼ç°åœ¨æ‚¨å¯ä»¥ï¼š

1. â­ ç»™é¡¹ç›®åŠ Star
2. ğŸ”§ å¼€å§‹å¼€å‘æ–°åŠŸèƒ½
3. ğŸ› ä¿®å¤å‘ç°çš„Bug
4. ğŸ“ å®Œå–„æ–‡æ¡£
5. ğŸš€ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

ç¥æ‚¨å¼€å‘æ„‰å¿«ï¼ ğŸˆ
