# ===================================
# 应用配置
# ===================================
NODE_ENV=development
PORT=8000
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# ===================================
# 数据库配置
# ===================================
# PostgreSQL
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/online_compiler?schema=public
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=online_compiler

# ===================================
# Redis配置
# ===================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===================================
# JWT认证
# ===================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ===================================
# Docker配置
# ===================================
DOCKER_HOST=unix:///var/run/docker.sock
# Docker API版本
DOCKER_API_VERSION=1.41

# ===================================
# 代码执行限制
# ===================================
# 最大执行时间(秒)
MAX_EXECUTION_TIME=10
# 最大内存限制(MB)
MAX_MEMORY=256
# 最大CPU核心数
MAX_CPU_CORES=0.5
# 最大磁盘空间(MB)
MAX_DISK_SPACE=100
# 最大输出大小(KB)
MAX_OUTPUT_SIZE=1024

# ===================================
# 任务队列配置
# ===================================
# 并发Worker数量
WORKER_CONCURRENCY=5
# 任务超时时间(ms)
TASK_TIMEOUT=30000
# 最大重试次数
MAX_RETRY_ATTEMPTS=3

# ===================================
# 速率限制
# ===================================
# 每个IP每分钟最大请求数
RATE_LIMIT_MAX=100
# 时间窗口(分钟)
RATE_LIMIT_WINDOW=1
# 单用户每天最大执行次数
MAX_EXECUTIONS_PER_DAY=500

# ===================================
# 文件存储
# ===================================
# 临时文件目录
TEMP_DIR=./tmp
# 上传文件最大大小(MB)
MAX_FILE_SIZE=10

# ===================================
# 邮件配置(可选)
# ===================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@example.com

# ===================================
# 日志配置
# ===================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# ===================================
# 安全配置
# ===================================
# CORS允许的源
CORS_ORIGIN=http://localhost:3000
# Cookie安全(生产环境设为true)
COOKIE_SECURE=false
# Cookie SameSite设置
COOKIE_SAMESITE=lax

# ===================================
# 监控配置(可选)
# ===================================
# Sentry DSN
SENTRY_DSN=

# ===================================
# 第三方服务(可选)
# ===================================
# GitHub OAuth
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
